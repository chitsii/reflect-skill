# チーム運用ガイド

## 概要

Reflect Skillをチームで運用する際の推奨方法。

---

## 1. 基本方針

| 項目 | 方針 |
|------|------|
| `.reflect/` | `.gitignore` に追加（個人用） |
| CLAUDE.md | git管理（チーム共有） |
| 昇格方法 | PR/Issueでチームに提案 |

**シンプルに:** 個人の学習は `.reflect/` に蓄積。チーム全体に適用すべきルールは CLAUDE.md に昇格。

---

## 2. 昇格基準

| 基準 | 説明 |
|------|------|
| **普遍性** | 個人の好みでなく、プロジェクト全体に適用可能 |
| **合意** | チームレビューで承認 |

**判断基準:** 「これはチーム全体に適用すべき」と思ったら提案。チームレビューで判断。

---

## 3. 昇格プロセス

```
1. 個人が.reflect/で学習を蓄積
    ↓
2. 有用なルールを発見
    ↓
3. Issue/PRで提案
   タイトル: [知識昇格] Button は shadcn から使用
   本文: 理由、例、影響範囲
    ↓
4. チームレビュー
    ↓
5. 承認後、CLAUDE.mdに追記
```

---

## 4. CLAUDE.md 構造例

```markdown
# プロジェクト名

## 概要
...

## コーディングルール（チーム共有）
<!-- 昇格された知識をここに追記 -->

### UI
- Button: `@/components/ui/button` から使用

### API
- エラー: Result型で返す

## 知識ベース
個人の学習: `.reflect/knowledge/` を活用。詳細は `/reflect-skill:status` 参照。
```

---

## 5. CLAUDE.md 肥大化対策

| 対策 | 説明 |
|------|------|
| セクション分け | カテゴリごとに整理 |
| 行数制限 | 100行を超えたら別ファイルに分離 |
| 定期レビュー | 四半期ごとに古いルールを見直し |
| 外部参照 | 詳細は `/docs/rules/` に分離 |

---

## 6. 運用フロー

```
┌─────────────────────────────────────────────────────────────┐
│                        日常作業                              │
├─────────────────────────────────────────────────────────────┤
│  開発者A                    開発者B                          │
│  ┌─────────┐                ┌─────────┐                     │
│  │.reflect/│                │.reflect/│                     │
│  │(個人用) │                │(個人用) │                     │
│  └────┬────┘                └────┬────┘                     │
│       │                          │                          │
│       │ /reflect で学習          │ /reflect で学習          │
│       ▼                          ▼                          │
│  ┌─────────┐                ┌─────────┐                     │
│  │個人知識 │                │個人知識 │                     │
│  │蓄積    │                │蓄積    │                     │
│  └─────────┘                └─────────┘                     │
└─────────────────────────────────────────────────────────────┘
                              │
                              │ 有用なルール発見
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                       昇格プロセス                           │
├─────────────────────────────────────────────────────────────┤
│  1. Issue/PR作成                                            │
│     「[知識昇格] ○○のルール提案」                           │
│                              │                              │
│  2. チームレビュー           │                              │
│     - 普遍性の確認           │                              │
│     - 副作用の検討           │                              │
│                              │                              │
│  3. 承認 → CLAUDE.mdに追記   │                              │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    CLAUDE.md（チーム共有）                   │
├─────────────────────────────────────────────────────────────┤
│  ## コーディングルール                                       │
│  - 昇格されたルール1                                        │
│  - 昇格されたルール2                                        │
│  ...                                                        │
└─────────────────────────────────────────────────────────────┘
```
